<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‚¬ì¸íŒŒ í‘œí˜„</title>
    <link href="./style.css" rel="stylesheet">
    </link>
</head>

<body>
    <center>
        <canvas id="waveCanvas" width="800" height="400"></canvas>
        <div class="controls">
            <div class="control">
                <label>A<br>(ì§„í­: ì–¼ë§ˆë‚˜ ë†’ì€ì§€)</label>
                <input type="number" id="A" value="80" step="5">
            </div>
            <div class="control">
                <label>k<br>(íŒŒë™ìˆ˜: íŒŒë™ì´ ì–¼ë§ˆë‚˜ ë§ì€ì§€)</label>
                <input type="number" id="k" value="0.02" step="0.005">
            </div>
            <div class="control">
                <label>Ï‰<br>(ê°ì†ë„: ì–¼ë§ˆë‚˜ ë¹¨ë¦¬ ì›€ì§ì´ëŠ”ì§€)</label>
                <input type="number" id="omega" value="0.05" step="0.01">
            </div>
        </div>
    </center>
    <br>
    <center>
        <div class="controls">
            <div class="control">
                <label class="switch-label">
                    <input type="checkbox" id="showWave2" />
                    <span class="slider"></span>
                </label>
                <span class="label-text">ê°„ì„­ ë³´ê¸°</span>
            </div>
            <div class="control">
                <label class="label1">Ï†<br>(ìœ„ìƒ: ì–¼ë§ˆë‚˜ ì•ì„œë‚˜ê°€ìˆëŠ”ì§€)</label>
                <input class="input1" type="number" id="phi1" value="0" step="0.1">ğ¿
            </div>
            <div class="control">
                <label class="label2">Ï†<br>(ìœ„ìƒ: ì–¼ë§ˆë‚˜ ì•ì„œë‚˜ê°€ìˆëŠ”ì§€)</label>
                <input class="input2" type="number" id="phi2" value="1" step="0.1">ğ¿
            </div>
        </div>
        </div>
    </center>
    <script>
        const canvas = document.getElementById("waveCanvas");
        const ctx = canvas.getContext("2d");

        const width = canvas.width;
        const height = canvas.height;

        let t = 0; // ì‹œê°„

        function draw() {
            const A = parseFloat(document.getElementById("A").value); // ì§„í­
            const k = parseFloat(document.getElementById("k").value); // íŒŒìˆ˜
            const omega = parseFloat(document.getElementById("omega").value); // ê°ì†ë„
            const phi1 = parseFloat(document.getElementById("phi1").value) * Math.PI; // ìœ„ìƒì°¨1
            const phi2 = parseFloat(document.getElementById("phi2").value) * Math.PI; //ìœ„ìƒì°¨2

            ctx.clearRect(0, 0, width, height);

            // íŒŒë™ 1 ê·¸ë¦¬ê¸°
            ctx.strokeStyle = "#00ff00";
            ctx.lineWidth = 1.5;
            ctx.beginPath();
            for (let x = 0; x < width; x++) {
                const y1 = height / 2 + A * Math.sin(k * x - omega * t + phi1); // Asin(kx - wt + phi) ê³µì‹
                if (x === 0) ctx.moveTo(x, y1);
                else ctx.lineTo(x, y1);
            }
            ctx.stroke();

            const showWave = document.getElementById("showWave2").checked;

            if (showWave) {
                // íŒŒë™ 2 ê·¸ë¦¬ê¸°
                ctx.strokeStyle = "yellow";
                ctx.lineWidth = 1.5;
                ctx.beginPath();
                for (let x = 0; x < width; x++) {
                    const y2 = height / 2 + A * Math.sin(k * x - omega * t + phi2);
                    if (x === 0) ctx.moveTo(x, y2);
                    else ctx.lineTo(x, y2);
                }
                ctx.stroke();
            }
            if (showWave) {
                // í•©ì³ì§„ íŒŒë™ ê·¸ë¦¬ê¸°
                ctx.strokeStyle = "red";
                ctx.lineWidth = 3;
                ctx.beginPath();
                for (let x = 0; x < width; x++) {
                    const y1 = A * Math.sin(k * x - omega * t + phi1);
                    const y2 = A * Math.sin(k * x - omega * t + phi2);
                    const ySum = y1 + y2;
                    const y = height / 2 + ySum;
                    if (x === 0) ctx.moveTo(x, y);
                    else ctx.lineTo(x, y);
                }
                ctx.stroke();
            }

            t++;
            requestAnimationFrame(draw);
        }

        draw();
    </script>
</body>

</html>